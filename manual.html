<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8"><meta name="robots" content="noindex, nofollow">
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<link rel="stylesheet" href="style.css">
        <title>bqrpn user manual</title>
    </head>
    <body id="manual">
		<div style="position: absolute; top:1em; left: 0.5ex; font-size: xx-large; letter-spacing:0.5ex;">
		<cursor class="val tight">█</cursor><cursor class="exp tight">█</cursor><cursor class="res tight">█</cursor><cursor class="xxx tight">█</cursor><cursor class="fun tight">█</cursor></div>
		<h1><code>bqrpn</code> user manual</h1>
		<p><a href="https://yiyus.info/bqrpn/">bqrpn</a> is an RPN input method to do atirhmetic operations using the <a href="https://mlochbaum.github.io/BQN/">BQN</a> programming language: a calculator.</p>
		<blockquote>
		<h5>Disclaimer</h5>
		<p>This is a manual, not a tutorial. Nevertheless, reading it from top to bottom and typing all the examples in a <a href="https://yiyus.info/bqrpn/">bqrpn</a> session (with a reset between them) could be an easy way to get started. The examples must be typed verbatim, key by key. Space, backspace, tab, and return are indicated by <code>sbtr</code>, respectively, and <code>SBTR</code> are the same keys with shift pressed. The up and down arrows are represented by <code>↑↓</code>. Clicking the color cursors at the top left will show a small bqrpn window where the examples (or anything else) can be run. <br><br> PREVIOUS KNOWLEDGE OF <a href="https://mlochbaum.github.io/BQN/">BQN</a> IS ASSUMED.</p>
		</blockquote>
		<h2>Reset</h2>
		<p>Press shift and escape (or just reload). When there is nothing on the stack or previous results, the <a href="https://yiyus.info/bqrpn/">bqrpn</a> banner is displayed.</p>
		<h2>Introducing values</h2>
		<h3>Digits</h3>
		<p>Use digits 0-9 to enter numbers. eg: <code>10s20s30</code>. When a value is being edited, the cursor changes to grey color.</p>
		<h3>Dot</h3>
		<p>The dot is used for decimal numbers. When there is no number being edited (the cursor is not grey) or a dot is already present in the value being edited, a new number is started with <code>0.</code>. eg: <code>2.3.5</code></p>
		<h3>Zeros</h3>
		<p>Opening and closing parens can be used to input two or three zeros, respectively. A preceding <code>0.</code> is added if no number is being entered. eg: <code>1(2)3.1(1s(1s)2</code></p>
		<h3>Pi and infinity</h3>
		<p>The special values π and ∞ are introduced with the keys <code>p</code> (for <strong>p</strong>i) and <code>f</code> (for in<strong>f</strong>inity). eg: <code>pf</code></p>
		<h2>Stack manipulation</h2>
		<h3>Copy and delete elements</h3>
		<p>Press shift and enter to duplicate ("dup") the top of the stack value. Press shift and backspace to delete ("drop") it. Pressing escape will drop all elements on the stack. eg: <code>1s2s3RBB</code></p>
		<h3>Reorder elements</h3>
		<p>Tab will swap the two elements at the top of the stack. Shift and tab will perform an "over" operation: the third element of the stack will be moved at the top, so the previous top values will occupy positions 2 and 3. eg: <code>1s2tt3TTT</code></p>
		<h2>Operations</h2>
		<p>In an operation, a function is applied to the current selection either monadically or diadically.</p>
		<h3>Selection</h3>
		<p>The current selection is indicated by colors. Target values are indicated in blue and argument values in purple. Functions are applied dyadically if and only if there is an argument, else they are applied monadically. One or two values can be selected. The possible selections are:</p>
		<code><pre>
		sel   stack  target argument result
		  1   x      x      ·        Fx
		  2   x w    x      w        wFx
		 -2   x w    x w    ·        Fx Fw
		 -1   x      x      x        xFx
		</pre></code>
		<p>Pressing space will switch the selection between 2 and 1 (or set it to 1 if there is only one element on the stack). Pressing shift and space will switch between -2 and -1 (or set it to -1 with only one element).</p>
		<h3>Functions</h3>
		<p>Most functions are shown in the help pannel in blue. They are applied on the (blue) target or targets with the given (purple) argument. eg: <code>3s2+5*</code>. When no argument is given (the selection is 1 or -2), the function is applied monadically. eg: <code>2-5s/S/</code>. As a special case, when there is no target but there is an argument, the function is applied using the argument value as target too. eg: <code>3S*</code></p>
		<p>Some functions swap the target and argument before being applied (i.e. the target is purple and the argument is blue). They are indicated in the help pannel in purple color. eg: <code>3s2-5/</code></p>
		<h4>Non-standard BQN functions</h4>
		<p>Most functions will do the same as in BQN. Exceptions are listed below.</p>
		<p>Different monadic application:</p>
		<ul>
		<li>
		Monadic <code>+</code> is increment
		</li><li>
		Comparison functions (<code>&lt;>=≤≥≠</code>) perform a comparison with zero when used monadically (<code>>x</code> is <code>x>0</code>, for example).
		</li>
		</ul>
		<p>New or different symbols:</p>
		<ul>
		<li>
		The caret symbol <code>^</code> is used for square / pow. It is equivalent to <code>⋆</code> (exp / pow) dyadically, but it is a reverse function so it will swap its arguments
		</li><li>
		The APL symbol for log, <code>⍟</code>, is used for log
		</li><li>
		The percent symbol <code>%</code> divides by 100 monadically and calculates percentages dyadically (eg: <code>p25%</code> is the 25% of pi)
		</li><li>
		The new symbols <code>⍓⍄⍁</code> are used for the trigonometric functions sin, cos and tan, respectively, and <code>⍌⍃⍂</code> for their inverses. Dyadically, they multiply by the corresponding quantity (eg: <code>10 p⍄</code> is 10 multiplied by the cosine of pi, or -10)
		</li>
		</ul>
		<p>There are no specific symbols for boolean operations. Min (<code>⌊</code>) and max (<code>⌈</code>) are used for AND and OR, respectively, while <code>=</code> is used for NOT and <code>≠</code> for XOR.</p>
		<p>Notice also that there is no explicit way to form expressions with adverbs or function trains. However, <a href="https://yiyus.info/bqrpn/">bqrpn</a> will try to form them implicitly. eg: <code>1-2-+</code> is an over and <code>1s2+1s2*/</code> is a fork.</p>
		<h3>History</h3>
		<p>In general, when a function is applied, the result and the expression to obtain it are added to the history (shown above the stack unless deactivated pressing the button at the top right corner).</p>
		<p>Pressing the up and down arrows will move over the results in the history. When a result is selected, the x and w values of the corresponding expression are temporarily pushed on the stack (or only x if it is a monadic function). If these values are not manipulated or used in an operation, they will disappear if escape is pressed, when the selected result changes, or if enter is pressed. In this last case, the result will be pushed instead. eg: <code>2s3+↑*↑↑↓r</code></p>
		<p>When the selected values on the stack correspond to results in the history, the results in the table are underlined with blue or purple color for target and argument values respectively. Moreover, if a result is dropped from the stack, the corresponding result in the history will be selected (at this point, the values used to calculate that result will be pushed, they can be used or dropped pressing backspace, or the previous value can be recovered pressing enter). eg: <code>1s2+Bb↑rbbb</code></p>
		<h3>Immediate functions</h3>
		<p>Immediate functions, displayed in the help pannel in red, are executed immediately, without storing a result in the result table, generating a new value as if it had been inputed by the user. Most immediate functions are monadic (all of them with the exception of <code>E</code>). These functions will be performed on the argument value (purple) if there is one, else on the (blue) target(s). eg: <code>6.626s34_E</code></p>
		<h2>Variables</h2>
		<p>Values can be stored in variables with the assign operation, in key <code>A</code>. After pressing it, the cursor will indicate that <a href="https://yiyus.info/bqrpn/">bqrpn</a> is waiting for a name for the variable, which is given just pressing any key (the assign operation can be cancelled pressing any key which is not a letter). After storing a value in a variable, it can be pushed on the stack either clicking on the variable name, or pressin <code>a</code> followed by the variable name. eg: <code>5Avav__</code> (notice that, since variables are displayed by default by its name, the immediate function <code>_</code> is applied twice to get the actual value).</p>
		<p>Alternatively to using <code>A</code> and <code>a</code>, the keys <code>XYZ</code> and <code>xyz</code> can be used to store and fetch (respectively) from the varaibles named x, y and z. eg: <code>1s2s3XYZxyz++</code></p>
		<h2>Visualization options</h2>
		<p>At the top right corner there are switches for light / dark mode, to display or hide the history, and to display or hide the help pannel.</p>
		<p>The magnifier at the top right changes the font size used by <a href="https://yiyus.info/bqrpn/">bqrpn</a>, while the one at the bottom right changes the font size used in the help pannel.</p>
		<h2>More information</h2>
		<p>The public repository of <a href="https://yiyus.info/bqrpn/">bqrpn</a> is located at <a href="https://github.com/yiyus/bqrpn/">github</a>. Further information about BQN can be found at the <a href="https://mlochbaum.github.io/BQN/">official website</a>.</p>
	</body>
</html>
